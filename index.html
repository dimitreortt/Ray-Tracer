<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <canvas
      id="space-square"
      width="700"
      height="600"
      style="border: 1px solid #000"
    ></canvas>
  </body>
  <script src="./js/functions.js"></script>
  <script src="./js/actions.js"></script>
  <script src="./js/geometry.js"></script>
  <script src="./js/controller.js"></script>
  <script src="./js/geometry/Square.js"></script>
  <script src="./js/geometry/LineSegment.js"></script>
  <script src="./js/geometry/Point.js"></script>
  <script src="./js/geometry/Shape.js"></script>
  <script src="./js/geometry/Rectangle.js"></script>
  <script src="./js/geometry/Circle.js"></script>
  <script>
    const canvas = document.getElementById('space-square');
    const drawer = new CanvasDrawer(canvas);

    const center = new Point(150, 150);
    const radius = 100;
    const circle = new Circle(center, radius);

    const start = new Point(350, 50);
    const side = 150;
    const square = new Square(start, side);

    const recStart = new Point(400, 300);
    const recFinish = new Point(450, 500);
    const rectangle = new Rectangle(recStart, recFinish);

    const observerPoint = new Point(200, 450);

    const initialShapes = [circle, square, rectangle, observerPoint];

    drawer.drawShapes(initialShapes);

    const controller = new Controller(drawer, initialShapes);

    document.onmousedown = function (e) {
      const mouseX = e.clientX;
      const mouseY = e.clientY;
      controller.handleClick(new Point(mouseX, mouseY));
    };
  </script>
</html>
